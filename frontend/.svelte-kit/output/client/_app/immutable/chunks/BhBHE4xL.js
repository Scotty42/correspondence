import{k as D,h as T,S as se,v as R,f as de,d as fe,J as Z,T as ve,g as he,H as pe,j as Q,m as H,x as L,U as te,V as _e,W as j,c as ge,w as U,z as me,X as ie,Y as q,i as Ee,Z as ee,_ as Te,a0 as Se,a1 as ye,a2 as Ae,a3 as y,n as oe,q as le,a4 as J,a5 as ue,a6 as F,a7 as Ne,a8 as Oe,o as we,a9 as Ie,aa as be,ab as Ce,ac as Me,ad as ke,ae as Le}from"./1DOnEbbI.js";function Fe(e,r){return r}function $e(e,r,a){for(var u=[],f=r.length,s,l=r.length,p=0;p<f;p++){let m=r[p];le(m,()=>{if(s){if(s.pending.delete(m),s.done.add(m),s.pending.size===0){var c=e.outrogroups;z(q(s.done)),c.delete(s),c.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var i=u.length===0&&a!==null;if(i){var d=a,t=d.parentNode;Oe(t),t.append(d),e.items.clear()}z(r,!i)}else s={pending:new Set(r),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(s)}function z(e,r=!0){for(var a=0;a<e.length;a++)we(e[a],r)}var re;function ze(e,r,a,u,f,s=null){var l=e,p=new Map,i=(r&ie)!==0;if(i){var d=e;l=T?D(se(d)):d.appendChild(R())}T&&de();var t=null,m=ve(()=>{var o=a();return Ee(o)?o:o==null?[]:q(o)}),c,h=!0;function N(){n.fallback=t,De(n,c,l,r,u),t!==null&&(c.length===0?(t.f&y)===0?oe(t):(t.f^=y,$(t,null,l)):le(t,()=>{t=null}))}var I=fe(()=>{c=Z(m);var o=c.length;let b=!1;if(T){var C=he(l)===pe;C!==(o===0)&&(l=Q(),D(l),H(!1),b=!0)}for(var E=new Set,O=ge,M=me(),_=0;_<o;_+=1){T&&L.nodeType===te&&L.data===_e&&(l=L,b=!0,H(!1));var w=c[_],k=u(w,_),g=h?null:p.get(k);g?(g.v&&j(g.v,w),g.i&&j(g.i,_),M&&O.skipped_effects.delete(g.e)):(g=He(p,h?l:re??(re=R()),w,k,_,f,r,a),h||(g.e.f|=y),p.set(k,g)),E.add(k)}if(o===0&&s&&!t&&(h?t=U(()=>s(l)):(t=U(()=>s(re??(re=R()))),t.f|=y)),T&&o>0&&D(Q()),!h)if(M){for(const[x,P]of p)E.has(x)||O.skipped_effects.add(P.e);O.oncommit(N),O.ondiscard(()=>{})}else N();b&&H(!0),Z(m)}),n={effect:I,items:p,outrogroups:null,fallback:t};h=!1,T&&(l=L)}function De(e,r,a,u,f){var g,x,P,Y,B,V,X,G,K;var s=(u&Ne)!==0,l=r.length,p=e.items,i=e.effect.first,d,t=null,m,c=[],h=[],N,I,n,o;if(s)for(o=0;o<l;o+=1)N=r[o],I=f(N,o),n=p.get(I).e,(n.f&y)===0&&((x=(g=n.nodes)==null?void 0:g.a)==null||x.measure(),(m??(m=new Set)).add(n));for(o=0;o<l;o+=1){if(N=r[o],I=f(N,o),n=p.get(I).e,e.outrogroups!==null)for(const S of e.outrogroups)S.pending.delete(n),S.done.delete(n);if((n.f&y)!==0)if(n.f^=y,n===i)$(n,null,a);else{var b=t?t.next:i;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),A(e,t,n),A(e,n,b),$(n,b,a),t=n,c=[],h=[],i=t.next;continue}if((n.f&J)!==0&&(oe(n),s&&((Y=(P=n.nodes)==null?void 0:P.a)==null||Y.unfix(),(m??(m=new Set)).delete(n))),n!==i){if(d!==void 0&&d.has(n)){if(c.length<h.length){var C=h[0],E;t=C.prev;var O=c[0],M=c[c.length-1];for(E=0;E<c.length;E+=1)$(c[E],C,a);for(E=0;E<h.length;E+=1)d.delete(h[E]);A(e,O.prev,M.next),A(e,t,O),A(e,M,C),i=C,t=M,o-=1,c=[],h=[]}else d.delete(n),$(n,i,a),A(e,n.prev,n.next),A(e,n,t===null?e.effect.first:t.next),A(e,t,n),t=n;continue}for(c=[],h=[];i!==null&&i!==n;)(d??(d=new Set)).add(i),h.push(i),i=i.next;if(i===null)continue}(n.f&y)===0&&c.push(n),t=n,i=n.next}if(e.outrogroups!==null){for(const S of e.outrogroups)S.pending.size===0&&(z(q(S.done)),(B=e.outrogroups)==null||B.delete(S));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||d!==void 0){var _=[];if(d!==void 0)for(n of d)(n.f&J)===0&&_.push(n);for(;i!==null;)(i.f&J)===0&&i!==e.fallback&&_.push(i),i=i.next;var w=_.length;if(w>0){var k=(u&ie)!==0&&l===0?a:null;if(s){for(o=0;o<w;o+=1)(X=(V=_[o].nodes)==null?void 0:V.a)==null||X.measure();for(o=0;o<w;o+=1)(K=(G=_[o].nodes)==null?void 0:G.a)==null||K.fix()}$e(e,_,k)}}s&&ue(()=>{var S,W;if(m!==void 0)for(n of m)(W=(S=n.nodes)==null?void 0:S.a)==null||W.apply()})}function He(e,r,a,u,f,s,l,p){var i=(l&ye)!==0?(l&Ae)===0?Te(a,!1,!1):ee(a):null,d=(l&Se)!==0?ee(f):null;return{v:i,i:d,e:U(()=>(s(r,i??a,d??f,p),()=>{e.delete(u)}))}}function $(e,r,a){if(e.nodes)for(var u=e.nodes.start,f=e.nodes.end,s=r&&(r.f&y)===0?r.nodes.start:a;u!==null;){var l=F(u);if(s.before(u),u===f)return;u=l}}function A(e,r,a){r===null?e.effect.first=a:r.next=a,a===null?e.effect.last=r:a.prev=r}function qe(e,r){let a=null,u=T;var f;if(T){a=L;for(var s=se(document.head);s!==null&&(s.nodeType!==te||s.data!==e);)s=F(s);if(s===null)H(!1);else{var l=F(s);s.remove(),D(l)}}T||(f=document.head.appendChild(R()));try{fe(()=>r(f),Ie)}finally{u&&(H(!0),D(a))}}const xe=Symbol("is custom element"),Pe=Symbol("is html");function Ye(e){if(T){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var u=e.value;ne(e,"value",null),e.value=u}if(e.hasAttribute("checked")){var f=e.checked;ne(e,"checked",null),e.checked=f}}};e.__on_r=a,ue(a),be()}}function ne(e,r,a,u){var f=Re(e);T&&(f[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||f[r]!==(f[r]=a)&&(r==="loading"&&(e[Ce]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Je(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Re(e){return e.__attributes??(e.__attributes={[xe]:e.nodeName.includes("-"),[Pe]:e.namespaceURI===Me})}var ae=new Map;function Je(e){var r=e.getAttribute("is")||e.nodeName,a=ae.get(r);if(a)return a;ae.set(r,a=[]);for(var u,f=e,s=Element.prototype;s!==f;){u=Le(f);for(var l in u)u[l].set&&a.push(l);f=ke(f)}return a}const ce="/api";async function v(e,r={}){const a=`${ce}${e}`,u={...r,headers:{"Content-Type":"application/json",...r.headers}},f=await fetch(a,u);if(!f.ok){const s=await f.json().catch(()=>({detail:"Unbekannter Fehler"}));throw new Error(s.detail||`HTTP ${f.status}`)}return f.json()}const Be={list:()=>v("/contacts/"),get:e=>v(`/contacts/${e}/`),create:e=>v("/contacts/",{method:"POST",body:JSON.stringify(e)}),update:(e,r)=>v(`/contacts/${e}/`,{method:"PUT",body:JSON.stringify(r)}),delete:e=>v(`/contacts/${e}/`,{method:"DELETE"})},Ve={list:e=>{const r=e?`?doc_type=${e}`:"";return v(`/documents/${r}`)},get:e=>v(`/documents/${e}`),createLetter:e=>v("/documents/letter",{method:"POST",body:JSON.stringify(e)}),createInvoice:e=>v("/documents/invoice",{method:"POST",body:JSON.stringify(e)}),createOffer:e=>v("/documents/offer",{method:"POST",body:JSON.stringify(e)}),archive:e=>v(`/documents/${e}/archive`,{method:"POST"}),delete:e=>v(`/documents/${e}`,{method:"DELETE"}),getPdfUrl:e=>`${ce}/documents/${e}/pdf`},Xe={generateDraft:e=>v("/ai/draft",{method:"POST",body:JSON.stringify(e)}),improveText:e=>v("/ai/improve",{method:"POST",body:JSON.stringify(e)})},Ge={check:()=>v("/health"),services:()=>v("/health/services")};export{Ge as a,Xe as b,Be as c,Ve as d,ze as e,qe as h,Fe as i,Ye as r,ne as s};
